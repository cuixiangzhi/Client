物理知识
    电子
        基本粒子,带负电,电子运动形成电流,电场和磁场能控制电子的运动
        亚原子粒子,即比原子更小的粒子
        电子脱离原子核束缚在原子之间自由运动产生电流
        静电是指原子带电不均衡
    原子
        基本粒子,由一个带正电的原子核和若干绕核运动的电子构成
        原子核是由中子和质子组成的,中子不带电,质子带正电
        原子是构成物质的基本单位
    量子
        物理量的基本单位,微观下的离散量,比如光是由光子组成的,光子就是光的量子
        粒子具有波动性和粒子性,波会发生反射、折射、衍射
    波长
        一个震荡周期内波的传播距离,波分为引力波、电磁波等等
        电磁振荡:自感线圈 电容 电源
        电源对电容充电,然后电容放电不断正向反向直到电能损失到一定程度,继续电源充电
        电容电流方向反复变化在线圈内产生变化磁场,变化的电场和磁场产生电磁波
    能量守恒:
        入射光能量=漫反射能量+镜面反射能量+吸收能量+折射能量
光学知识
    光谱
        复色光经过分光后,被分开的单色光按照波长大小依次排列
        从大到小排列为长波无线电,无线电AMFM,微波,红外线,可见光,紫外线,X光,伽马射线
        原子稳定,电子跃迁(电子在原子内轨道上运动,吸收能量发生跃迁,分子结构被破坏),吸收能量,紫外能量高被臭氧层吸收
        光谱函数用于计算光在各个波长的能量分布
    光源
        能发出一定范围的电磁波的物体
    光学平面散射
        反射
            反射光线与入射光线、法线在同一平面,入射角等于反射角
        折射
            光从一种透明介质射入另一种透明介质,传播方向一般会发生变化
    非光学平面散射:
        现实中表面一般都是凹凸不平的,平面上每个点都是由很多朝向各异的微小光学平面组成的
        一部分发生反射,反射到不同的方向
        一部分发生折射,折射进入物质内部
        对于金属
            折射进入物质内部的光线被自由电子吸收,不再可见
        对于非金属等半透明物质
            1.物质一般是由很多折射率不同的微粒组成,光线遇到这些微粒发生反射折射,在物质内部传播后散射到不同方向
            其中一部分会再次穿过表面被观察到,这种现象称为次表面散射
            2.如果光线在物质内部传播距离小于观察尺度,也就是入射点、反射点、次表面出射点看起来是同一个点
            反射部分就是我们常说的高光,次表面散射部分是漫反射光,光线被散射到各个方向
            3.如果传播距离大于观察尺度,就需要使用次表面散射算法建模,散射部分与漫反射是不同的
        对于透明物质
            光线穿透透明物质,在另一侧再次发生反射折射,这种现象可以用BTDF模拟
几何知识:
    球坐标系
        球坐标r,0,φ转换为世界坐标为x=rsin0cosφ y=rsin0sinφ z=rcos0,0称为天顶角,φ称为方位角
    平面角
        圆上的一段圆弧,大小为s=r*0,整个圆的平面角为2π
    立体角
        单位是立体弧度,用sr表示,大小为半径为1的球体被以球心为顶点的椎体截得的表面积,公式为w=s/r^2,也就是面积与半径平方之比
    微分立体角
        已知球坐标系下一个点(r,0,φ),当0增加d0,φ增加dφ时
        面积增加ds=(r*d0)*(rsin0*dφ)=r^2*sin0*d0dφ
        也就是微分立体角为dw=ds/r^2=sin0*d0dφ
        对0和φ做积分可以得出球体的表面积s=4πr^2
辐射度学
    能量:
        单位为焦耳(J),每个光子都有一定的能量,频率越高,能量越高,用符号Q表示
    功率(辐射通量):
        单位为瓦特(W)或者焦耳每秒(J/s),指的是单位时间内通过表面或者空间区域的能量,用φ表示dφ=dQ/dt
    辐照度(通量密度):
        单位时间内到达单位面积的表面的能量或者叫做到达单位面积的辐射通量,焦耳/每秒单位面元,用符号E表示,单位W/m^2,E=dφ/dA
    辐出度:
        离开表面的能量密度,衡量被反射出去的能量
    能量衰减:
        1.能量与角度的关系
            假设入射光与法线夹角为0,接收光线的表面面积为A,接收到的辐射通量为φ,辐照度为E=φ/A
            可以得知,表面在入射光方向上的投影面积为Acos0,辐射通量不变,入射光辐照度E'=φ/(Acos0) 
            辐照度与入射角度的关系为 E=E'cos0
        2.能量与距离的关系
            假想一个点光源,被不同半径的球体包围,到达这些球体的辐射通量是相同的,假设为φ
            球体的表面积为4πr^2,那么辐照度为E=φ/4πr^2,距离越远,辐照度越弱
    辐照强度:
        通过单位立体角的辐射通量,用符号I表示,单位为瓦特/球面度(W/sr),I=dφ/dw
    辐射率:
        单位面积单位立体角的辐射通量 L=dφ/(dA'dw)
    BRDF:
        计算给定入射方向,在某个出射方向上的辐射率 L(v)=f(l,v)xE(l)cos0
        https://www.cnblogs.com/herenzhiming/articles/5789043.html
        微表面
            一个点由很多微表面组成
        法线分布
            对于观察方向V,只有入射方向和观察方向的半角向量H与法线N垂直时,反射光才能被观察到
            D(h)面积比例,NDF(法线分布)函数用来描述物体表面有多少半角向量朝向是H的微表面
        ShadowMask
            微表面的入射光线被遮挡称为Shdaow,微表面的反射光线被遮挡称为Mask
            G(l,v)未被遮挡比例,GAF(几何衰减因子)函数描述某个入射方向未被遮挡反射到指定V方向的比例
        反射比例
            F(l,h)反射比例,光学平面并不会把所有光学都反射掉,反射比例符合菲涅尔方程
            Schlick菲涅尔近似等式
                F(v,n)=F0+(1-F0)(1-v点乘n)^5 v是入射方向
            Empricial菲涅尔近似等式
                F(v,n)=max(0,min(1,bias,scale叉乘(1-v点乘n)^power))
        高光BRDF方程(Cook Torrance)
            f(l,v)=F(l,h)G(l,v)D(h)/4(n*l)(n*v)
光照方程
    经验模型
        Phong反射模型
            I = 环境光 + 漫反射光 + 高光
            I = KaIa + KdId*dot(n,l) + KsIs*pow(max(0,dot(r,v)),α)
            K是反射系数,I是光照强度,n是法线方向,l是入射方向,v是视线方向,r是反射方向 α是表面粗糙度,α越小越粗糙
        BlinnPhone反射模型
            Phone模型在反射方向和观察方向夹角超过90度,也就是观察方向趋向平行表面时,Phong会发生突变,BlinnPhong更接近真实情况
            pow(dot(n,h),α),h是l和v的半角向量,v在趋向于平行表面过程中h与n的夹角始终在90度之内,也就是边缘有一个渐变过程
    物理模型



